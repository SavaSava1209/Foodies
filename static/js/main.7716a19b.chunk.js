(this["webpackJsonpfind-recipes"]=this["webpackJsonpfind-recipes"]||[]).push([[0],{60:function(e,t,c){},61:function(e,t,c){},63:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),a=c(18),i=c.n(a),r=(c(59),c(60),c(7)),l=(c(61),c(10)),o=c(8),d=(c(62),c(63),c(88)),j=c(89),b=c(87),h=c(1),m=function(e){var t=e.isLogin,c=e.signout,n=e.toggleModal;return Object(h.jsxs)(d.a,{bg:"light",expand:"lg",className:"pa3",children:[Object(h.jsxs)(l.b,{to:"/",className:"link",children:[" ",Object(h.jsx)(d.a.Brand,{children:"Foodies"})]}),Object(h.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(j.a,{className:"mr-auto",children:[t?Object(h.jsx)(j.a.Link,{as:l.b,to:"/",onClick:c,children:"Sign out"}):Object(h.jsx)(j.a.Link,{as:l.b,to:"/register",children:"Register"}),t?Object(h.jsxs)(b.a,{title:"Explore",id:"basic-nav-dropdown",children:[Object(h.jsx)(b.a.Item,{onClick:n,children:"Profile"}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/savedrecipes",children:"Saved Recipes"}),Object(h.jsx)(b.a.Divider,{}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/foodlist",children:"Check Ingredients "}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/recommendrecipes",children:"Check Recipes "})]}):Object(h.jsxs)(b.a,{title:"Explore",id:"basic-nav-dropdown",children:[Object(h.jsx)(b.a.Item,{as:l.b,to:"/signin",children:"Sign in"}),Object(h.jsx)(b.a.Divider,{}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/foodlist",children:"Check Ingredients "}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/recommendrecipes",children:"Check Recipes "})]})]})})]})},u=c(29),x=c.p+"static/media/ingredient-slide.e8c25a7c.jpg",p=c.p+"static/media/recipe-slide.ce5e1d7b.jpg",O=(c(72),function(){return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(u.a.Item,{className:"bg-pink slide",children:Object(h.jsxs)(l.b,{to:"/recommendrecipes",children:[Object(h.jsx)("img",{className:"d-block w-60 center ",src:p,alt:"Check Recipes"}),Object(h.jsxs)(u.a.Caption,{className:"br3 w-60 center caption",style:{backgroundColor:"lightblue"},children:[Object(h.jsx)("h3",{children:"Check Recipes"}),Object(h.jsx)("p",{children:"Find recipes that makes you happy"})]})]})}),Object(h.jsx)(u.a.Item,{className:"bg-pink slide",children:Object(h.jsxs)(l.b,{to:"/foodlist",children:[Object(h.jsx)("img",{className:"d-block w-60 center",src:x,alt:"Check Ingredients"}),Object(h.jsxs)(u.a.Caption,{className:"br3 w-60 center caption",style:{backgroundColor:"lightblue"},children:[Object(h.jsx)("h3",{children:"Check Ingredient"}),Object(h.jsx)("p",{children:"Simply paste the image URL to find out the ingredients"})]})]})})]})}),g=c(51),f=c(52),v=c(54),N=c(53),w=(c(73),document.getElementById("modal-root")),y=function(e){Object(v.a)(c,e);var t=Object(N.a)(c);function c(e){var n;return Object(g.a)(this,c),(n=t.call(this,e)).el=document.createElement("div"),n}return Object(f.a)(c,[{key:"componentDidMount",value:function(){w.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){w.removeChild(this.el)}},{key:"render",value:function(){return i.a.createPortal(this.props.children,this.el)}}]),c}(n.Component),k=c(28),C=c(22);c(74);var S=function(e){var t=e.toggleModal,c=e.user,s=e.loadUser,a=Object(n.useState)(c.username),i=Object(r.a)(a,2),l=i[0],o=i[1],d=Object(n.useState)(c.dob),j=Object(r.a)(d,2),b=j[0],m=j[1],u=function(e){switch(e.target.name){case"username":o(e.target.value);break;case"date":m(e.target.value);break;default:return}};return Object(h.jsx)("div",{className:"modal",children:Object(h.jsx)("div",{className:"col-md-8",children:Object(h.jsx)("div",{className:"card mb-3",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-11"}),Object(h.jsx)("div",{className:"col-sm-1 mb-3",children:Object(h.jsx)(C.a,{onClick:t,variant:"info",size:"sm",children:"x"})})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3 align-self-center",children:Object(h.jsx)("h6",{className:"mb-0",children:"Username"})}),Object(h.jsx)("div",{className:"col-sm-7",children:Object(h.jsx)("input",{onChange:u,name:"username",placeholder:c.username})})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3 align-self-center",children:Object(h.jsx)("h6",{className:"mb-0",children:"Email"})}),Object(h.jsx)("div",{className:"col-sm-9 ",children:Object(h.jsxs)("h6",{children:[" ",c.email," "]})})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3 align-self-center",children:Object(h.jsx)("h6",{className:"mb-0",children:"Date of Birth"})}),void 0===b||null===b?Object(h.jsx)("div",{className:"col-sm-9  align-self-center",children:Object(h.jsx)("input",{type:"date",name:"date",onChange:u})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"col-sm-7 align-self-center",children:Object(h.jsx)("h6",{children:new Date(b).toLocaleDateString()})}),Object(h.jsx)("div",{className:"col-sm-2",children:Object(h.jsx)(C.a,{variant:"info",onClick:function(){m(null)},children:"Edit"})})]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3",children:Object(h.jsx)("h6",{className:"mb-0",children:"Saved Recipes"})}),Object(h.jsx)("div",{className:"col-sm-9 ",children:c.recipes_number})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3",children:Object(h.jsx)("h6",{className:"mb-0",children:"Register on"})}),Object(h.jsx)("div",{className:"col-sm-9 ",children:new Date(c.create_on).toLocaleDateString()})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-sm-12",children:[Object(h.jsx)("button",{className:"btn btn-info ma2",onClick:function(){return e={username:l,dob:b},void fetch("https://warm-reef-43761.herokuapp.com/profile/".concat(c.user_id),{method:"post",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({formUpdate:e})}).then((function(e){return e.json()})).then((function(e){s(Object(k.a)(Object(k.a)({},c),e)),t()})).catch((function(e){return console.log(e)}));var e},children:"Save"}),Object(h.jsx)("button",{className:"btn btn-info ma2 ",onClick:t,children:"Close"})]})})]})})})})},I=(c(75),c(19)),_=c(39),L=c.p+"static/media/ingredient.c07c3b8e.jpg";c(76);var U=function(e){return Object(h.jsx)("div",{className:"container ",children:Object(h.jsxs)("div",{className:"image-list ",children:[Object(h.jsx)("div",{className:"image-view ",children:Object(h.jsx)("img",{alt:"food",src:e.imgUrl})}),Object(h.jsx)("section",{className:"",children:Object(h.jsxs)("ul",{className:"",style:{overflowY:"auto"},children:[Object(h.jsxs)("li",{className:"",children:[Object(h.jsx)("b",{children:"Predicted food"}),Object(h.jsx)("b",{children:"Probability"})]}),e.ingredientArray.length>0&&e.ingredientArray.map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsxs)("span",{children:[" ",e.name," "]}),Object(h.jsxs)("span",{children:[" ",e.value.toFixed(3)," "]})]},e.id)}))]})})]})})};var z=function(e){var t=Object(n.useState)(""),c=Object(r.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(""),l=Object(r.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)([]),b=Object(r.a)(j,2),m=b[0],u=b[1],x=Object(n.useState)(!1),p=Object(r.a)(x,2),O=p[0],g=p[1];return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"searchBar",children:[Object(h.jsxs)("div",{className:"title",children:[Object(h.jsx)("img",{src:L,alt:"ingredient",style:{width:"150px",height:"100px",border:"none"}}),Object(h.jsx)("h2",{children:"Check Ingredient"})]}),Object(h.jsxs)(I.a,{className:"mb-3 w-70 center",children:[Object(h.jsx)(I.a.Prepend,{children:Object(h.jsx)(I.a.Text,{id:"inputGroup-sizing-default",children:"Image Link"})}),Object(h.jsx)(_.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",placeholder:"paste URL or image file",onChange:function(e){a(e.target.value)}}),Object(h.jsx)(I.a.Append,{children:Object(h.jsx)(C.a,{onClick:function(t){e.isLogin?s.length>0&&(d(s),fetch("https://warm-reef-43761.herokuapp.com/image",{method:"post",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({url:s})}).then((function(e){return e.json()})).then((function(e){"failed"===e||"Error"===e?(g(!1),u([])):(g(!0),u(e))})).catch((function(e){return console.log(e,"unable to fetch clairifai API")}))):alert("Please log in to use the function")},variant:"outline-secondary",children:"Check"})})]})]}),O?Object(h.jsx)(U,{imgUrl:o,ingredientArray:m}):null]})},E=(c(77),c.p+"static/media/recipe.62c3910e.png");var A=function(e){var t=e.user,c=e.loadUser,s=e.isLogin,a=Object(n.useState)(""),i=Object(r.a)(a,2),l=i[0],o=i[1],d=Object(n.useState)([]),j=Object(r.a)(d,2),b=j[0],m=j[1];return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"searhBar",children:[Object(h.jsxs)("div",{className:"title flex",children:[Object(h.jsx)("img",{src:E,alt:"recipe",style:{width:"100px",border:"none"}}),Object(h.jsx)("h2",{children:"Check Recipes"})]}),Object(h.jsxs)(I.a,{className:"mb-3 w-70 center",children:[Object(h.jsx)(I.a.Prepend,{children:Object(h.jsx)(I.a.Text,{id:"inputGroup-sizing-default",children:"Food Name"})}),Object(h.jsx)(_.a,{"aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){o(e.target.value)}}),Object(h.jsx)(I.a.Append,{children:Object(h.jsx)(C.a,{onClick:function(){s?fetch("https://warm-reef-43761.herokuapp.com/recipes",{method:"post",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({foodName:l})}).then((function(e){return e.json()})).then((function(e){e.results.length>0?m(e.results):m([])})).catch((function(e){return console.log(e)})):alert("Please log in to use this function")},variant:"outline-secondary",children:"Check"})})]})]}),b.length>0&&b.map((function(e){return Object(h.jsx)("div",{className:"box",children:Object(h.jsx)("div",{className:"responsive",children:Object(h.jsxs)("div",{className:"gallery",children:[Object(h.jsx)("a",{target:"_blank",href:e.sourceUrl,rel:"noreferrer",children:Object(h.jsx)("img",{src:e.image,rel:"noreferrer",alt:"Recipes ",width:"600",height:"auto"})}),Object(h.jsx)("div",{className:"desc",children:e.title}),Object(h.jsx)("div",{children:Object(h.jsxs)("button",{type:"button",className:"btn btn-outline-danger mb2",name:"favorite",onClick:function(){return function(e){fetch("https://warm-reef-43761.herokuapp.com/saved_recipes/".concat(t.user_id),{method:"post",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({recipe_id:e.id,url:e.sourceUrl,title:e.title,image:e.image})}).then((function(e){return e.json()})).then((function(e){"exist"===e&&alert("reciped added"),c(Object(k.a)(Object(k.a)({},t),e))})).catch(console.log)}(e)},children:["Add to facorite",Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-heart ml2",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})})]})})]})})},e.id)}))]})},D=(c(78),c.p+"static/media/pink-mug.148409de.png"),P=c.p+"static/media/laurel-wreath.72b63e55.png",R=function(e){var t=e.loadUser,c=Object(n.useState)(""),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(""),d=Object(r.a)(l,2),j=d[0],b=d[1],m=Object(n.useState)(""),u=Object(r.a)(m,2),x=u[0],p=u[1],O=Object(o.f)();return Object(h.jsx)("div",{className:"container-fluid px-1 px-md-5 px-lg-1 px-xl-5 py-5 mx-auto",children:Object(h.jsx)("div",{className:"card card0 border-0",children:Object(h.jsxs)("div",{className:"row d-flex",children:[Object(h.jsx)("div",{className:"col-lg-6",children:Object(h.jsxs)("div",{className:"card1 pb-5",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("img",{alt:"logo",src:P,className:"logo",style:{border:"none"}})}),Object(h.jsx)("div",{className:"row px-3 justify-content-center mt-4 mb-5 border-line",children:Object(h.jsx)("img",{alt:"coverphoto",src:D,className:"image",style:{border:"none"}})})]})}),Object(h.jsx)("div",{className:"col-lg-6",children:Object(h.jsxs)("div",{className:"card2 card border-0 px-4 py-5 ",style:{alignContent:"center"},children:[Object(h.jsx)("div",{className:"row mb-4 px-3",children:Object(h.jsx)("h6",{className:"mb-0 mr-4 mt-2",children:"Register"})}),Object(h.jsxs)("div",{className:"row px-3 mb-4",children:[Object(h.jsx)("div",{className:"line"}),Object(h.jsx)("div",{className:"line"})]}),Object(h.jsxs)("div",{className:"row px-3",children:[Object(h.jsx)("label",{className:"mb-1",children:Object(h.jsx)("h6",{className:"mb-0 text-sm tl",children:"User Name"})}),Object(h.jsx)("input",{onChange:function(e){return p(e.target.value)},className:"mb-4",type:"text",name:"username",placeholder:"Enter username"})]}),Object(h.jsxs)("div",{className:"row px-3",children:[Object(h.jsx)("label",{className:"mb-1",children:Object(h.jsx)("h6",{className:"mb-0 text-sm tl",children:"Email Address"})}),Object(h.jsx)("input",{onChange:function(e){return i(e.target.value)},className:"mb-4",type:"text",name:"email",placeholder:"Enter a valid email address"})]}),Object(h.jsxs)("div",{className:"row px-3",children:[Object(h.jsx)("label",{className:"mb-1",children:Object(h.jsx)("h6",{className:"mb-0 text-sm tl",children:"Password"})}),Object(h.jsx)("input",{onChange:function(e){return b(e.target.value)},type:"password",name:"password",placeholder:"Enter password"})]}),Object(h.jsx)("div",{className:"row mb-3 px-3 mt-3",children:Object(h.jsx)("button",{onClick:function(e){a.length>0&&j.length>0&&x.length>0&&fetch("https://warm-reef-43761.herokuapp.com/register",{method:"post",headers:{"Content-Type":"Application/json"},body:JSON.stringify({email:a,password:j,username:x})}).then((function(e){return e.json()})).then((function(e){e[0].user_id&&(window.localStorage.setItem("token",e[1]),t(e[0]),O.push("/"))})).catch((function(e){return console.log(e)}))},type:"submit",className:"btn btn-blue text-center",children:"Register"})}),Object(h.jsx)("div",{className:"row mb-4 px-3",children:Object(h.jsxs)("small",{className:"font-weight-bold d-flex justify-content-start ",children:["Already have an account?",Object(h.jsx)("a",{href:"/signin",className:"text-danger ",children:"Sign In"})]})})]})})]})})})},T=(c(79),function(e){var t=e.loadUser,c=(e.isLogin,Object(n.useState)("")),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(""),d=Object(r.a)(l,2),j=d[0],b=d[1],m=Object(o.f)();return Object(h.jsx)("div",{className:"container-fluid px-1 px-md-5 px-lg-1 px-xl-5 py-5 mx-auto",children:Object(h.jsx)("div",{className:"card card0 border-0",children:Object(h.jsxs)("div",{className:"row d-flex",children:[Object(h.jsx)("div",{className:"col-lg-6",children:Object(h.jsxs)("div",{className:"card1 pb-5",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("img",{alt:"logo",src:P,className:"logo",style:{border:"none"}})}),Object(h.jsx)("div",{className:"row px-3 justify-content-center mt-4 mb-5 border-line",children:Object(h.jsx)("img",{alt:"signin",src:D,className:"image",style:{border:"none"}})})]})}),Object(h.jsx)("div",{className:"col-lg-6",children:Object(h.jsxs)("div",{className:"card2 card border-0 px-4 py-5 ",style:{alignContent:"center"},children:[Object(h.jsx)("div",{className:"row mb-4 px-3",children:Object(h.jsx)("h6",{className:"mb-0 mr-4 mt-2",children:"Sign In"})}),Object(h.jsxs)("div",{className:"row px-3 mb-4",children:[Object(h.jsx)("div",{className:"line"}),Object(h.jsx)("div",{className:"line"})]}),Object(h.jsxs)("div",{className:"row px-3",children:[Object(h.jsx)("label",{className:"mb-1",children:Object(h.jsx)("h6",{className:"mb-0 text-sm tl",children:"Email Address"})}),Object(h.jsx)("input",{onChange:function(e){return i(e.target.value)},className:"mb-4",type:"text",name:"email",placeholder:"Enter a valid email address"})]}),Object(h.jsxs)("div",{className:"row px-3",children:[Object(h.jsx)("label",{className:"mb-1",children:Object(h.jsx)("h6",{className:"mb-0 text-sm tl",children:"Password"})}),Object(h.jsx)("input",{onChange:function(e){return b(e.target.value)},type:"password",name:"password",placeholder:"Enter password"})]}),Object(h.jsx)("div",{className:"row px-3 mb-4",children:Object(h.jsx)("a",{href:"#0",className:"col-sm ml-auto mb-0 text-sm d-flex justify-content-start",children:"Forgot Password?"})}),Object(h.jsx)("div",{className:"row mb-3 px-3",children:Object(h.jsx)("button",{onClick:function(){a.length>0&&j.length>0&&fetch("https://warm-reef-43761.herokuapp.com/signin",{method:"post",headers:{"content-type":"Application/json"},body:JSON.stringify({email:a,password:j})}).then((function(e){return e.json()})).then((function(e){var c;e.userId&&"true"===e.success&&(c=e.token,window.localStorage.setItem("token",c),fetch("https://warm-reef-43761.herokuapp.com/profile/".concat(e.userId),{method:"get",headers:{"Content-Type":"application/json",authorization:e.token}}).then((function(e){return e.json()})).then((function(e){t(e),m.push("/")})).catch((function(e){return console.log("unable to save token")})))})).catch((function(e){return console.log(e)}))},type:"submit",className:"btn btn-blue text-center",children:"Login"})}),Object(h.jsx)("div",{className:"row mb-4 px-3",children:Object(h.jsxs)("small",{className:"font-weight-bold d-flex justify-content-start ",children:["Don't have an account?",Object(h.jsx)("a",{href:"/register",className:"text-danger ",children:"Register"})]})})]})})]})})})});c(80);var F=function(e){var t=e.user,c=e.loadUser,s=Object(n.useState)([]),a=Object(r.a)(s,2),i=a[0],l=a[1];return Object(n.useEffect)((function(){fetch("https://warm-reef-43761.herokuapp.com/saved_recipes/".concat(t.user_id),{method:"get",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){l(e)})).catch(console.log)}),[t.recipes_number]),Object(h.jsx)("div",{className:"ma3",children:Object(h.jsxs)("table",{id:"recipes",children:[Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Food Name"}),Object(h.jsx)("th",{children:"Picture"}),Object(h.jsx)("th",{children:"Notes"}),Object(h.jsx)("th",{children:"Delete"})]})}),i.map((function(e){return Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsxs)("a",{href:e.url,children:[" ",e.title," "]})}),Object(h.jsx)("td",{width:"20%",children:Object(h.jsx)("img",{alt:"recipe",src:e.image,style:{width:"70%"}})}),Object(h.jsxs)("td",{children:[Object(h.jsx)("textarea",{id:e.recipe_id,defaultValue:e.note}),Object(h.jsx)("button",{className:"button",onClick:function(c){return function(e,c){e.preventDefault();var n=document.getElementById(c);fetch("https://warm-reef-43761.herokuapp.com/saved_recipes/".concat(t.user_id),{method:"put",headers:{"content-type":"Application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({recipe_id:c,note:n.value})}).then((function(e){return e.json()})).catch((function(e){return console.log("can not save note")}))}(c,e.recipe_id)},style:{float:"right"},children:"Save"})]}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{className:"button",onClick:function(n){return function(e,n){e.preventDefault(),fetch("https://warm-reef-43761.herokuapp.com/saved_recipes/".concat(t.user_id),{method:"delete",headers:{"content-type":"Application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({recipe_id:n})}).then((function(e){return e.json()})).then((function(e){e&&fetch("https://warm-reef-43761.herokuapp.com/profile/".concat(t.user_id),{method:"delete",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){"unauthorized"===e&&console.log(e)}))}(n,e.recipe_id)},children:"delete"})})]})},e.recipe_id)}))]})})},J={isLogin:!1,user:{email:"",username:"",create_on:"",user_id:"",dob:"",recipes_number:""}};var B=function(){var e=Object(n.useState)(J),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),i=Object(r.a)(a,2),d=i[0],j=i[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("token");if(e)return fetch("https://warm-reef-43761.herokuapp.com/signin",{method:"post",headers:{"content-type":"Application/json",authorization:e}}).then((function(e){return e.json()})).then((function(t){if(t.id)return fetch("https://warm-reef-43761.herokuapp.com/profile/".concat(t.id),{method:"get",headers:{"Content-Type":"application/json",authorization:e}}).then((function(e){return e.json()})).then((function(e){b(e)})).catch((function(e){return console.log("unable to refresh")}))})).catch(console.log)}),[]);var b=function(e){s({isLogin:!0,user:{email:e.email,username:e.username,create_on:e.create_on,user_id:e.user_id,dob:e.dob,recipes_number:e.recipes_number}})},u=function(){j(!d)};return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(l.a,{basename:"/Foodies",children:[Object(h.jsx)(m,{isLogin:c.isLogin,signout:function(e){s(J),window.localStorage.removeItem("token")},toggleModal:u}),d&&Object(h.jsx)(y,{children:Object(h.jsx)(S,{toggleModal:u,user:c.user,loadUser:b})}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",exact:!0,component:O}),Object(h.jsx)(o.a,{path:"/register",children:Object(h.jsx)(R,{loadUser:b})}),Object(h.jsx)(o.a,{path:"/signin",children:Object(h.jsx)(T,{loadUser:b})}),Object(h.jsx)(o.a,{path:"/foodlist",children:Object(h.jsx)(z,{isLogin:c.isLogin})}),Object(h.jsx)(o.a,{path:"/recommendrecipes",children:Object(h.jsx)(A,{user:c.user,loadUser:b,isLogin:c.isLogin})}),Object(h.jsx)(o.a,{path:"/savedrecipes",children:Object(h.jsx)(F,{user:c.user,loadUser:b})})]})]})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,90)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById("root")),M()}},[[81,1,2]]]);
//# sourceMappingURL=main.7716a19b.chunk.js.map