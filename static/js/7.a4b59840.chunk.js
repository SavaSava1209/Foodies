(this["webpackJsonpfind-recipes"]=this["webpackJsonpfind-recipes"]||[]).push([[7],{91:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var c=n(24),o=(n(91),n(0)),i=n(1);t.default=function(e){var t=e.user,n=e.loadUser,r=Object(o.useState)([]),s=Object(c.a)(r,2),a=s[0],d=s[1];return Object(o.useEffect)((function(){fetch("https://warm-reef-43761.herokuapp.com/saved_recipes/".concat(t.user_id),{method:"get",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){d(e)})).catch(console.log)}),[t.recipes_number]),Object(i.jsx)("div",{className:"ma3",children:Object(i.jsxs)("table",{id:"recipes",children:[Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"Food Name"}),Object(i.jsx)("th",{children:"Picture"}),Object(i.jsx)("th",{children:"Notes"}),Object(i.jsx)("th",{children:"Delete"})]})}),a.map((function(e){return Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:Object(i.jsxs)("a",{href:e.url,children:[" ",e.title," "]})}),Object(i.jsx)("td",{width:"20%",children:Object(i.jsx)("img",{alt:"recipe",src:e.image,style:{width:"70%"}})}),Object(i.jsxs)("td",{children:[Object(i.jsx)("textarea",{id:e.recipe_id,defaultValue:e.note}),Object(i.jsx)("button",{className:"button",onClick:function(n){return function(e,n){e.preventDefault();var c=document.getElementById(n);fetch("https://warm-reef-43761.herokuapp.com/saved_recipes/".concat(t.user_id),{method:"put",headers:{"content-type":"Application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({recipe_id:n,note:c.value})}).then((function(e){return e.json()})).catch((function(e){return console.log("can not save note")}))}(n,e.recipe_id)},style:{float:"right"},children:"Save"})]}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{className:"button",onClick:function(c){return function(e,c){e.preventDefault(),fetch("https://warm-reef-43761.herokuapp.com/saved_recipes/".concat(t.user_id),{method:"delete",headers:{"content-type":"Application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({recipe_id:c})}).then((function(e){return e.json()})).then((function(e){e&&fetch("https://warm-reef-43761.herokuapp.com/profile/".concat(t.user_id),{method:"delete",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){"unauthorized"===e&&console.log(e)}))}(c,e.recipe_id)},children:"delete"})})]})},e.recipe_id)}))]})})}}}]);
//# sourceMappingURL=7.a4b59840.chunk.js.map