(this["webpackJsonpfind-recipes"]=this["webpackJsonpfind-recipes"]||[]).push([[0],{58:function(e,c,t){},59:function(e,c,t){},61:function(e,c,t){},70:function(e,c,t){},71:function(e,c,t){},72:function(e,c,t){},73:function(e,c,t){"use strict";t.r(c);var n=t(0),s=t.n(n),i=t(16),a=t.n(i),r=(t(57),t(58),t(24)),l=(t(59),t(11)),o=t(7),j=(t(60),t(61),t(80)),d=t(81),b=t(79),h=t(1),m=function(e){var c=e.isLogin,t=e.signout,n=e.toggleModal;return Object(h.jsxs)(j.a,{bg:"light",expand:"lg",className:"pa3",children:[Object(h.jsxs)(l.b,{to:"/",className:"link",children:[" ",Object(h.jsx)(j.a.Brand,{children:"Foodies"})]}),Object(h.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(d.a,{className:"mr-auto",children:[c?Object(h.jsx)(d.a.Link,{as:l.b,to:"/",onClick:t,children:"Sign out"}):Object(h.jsx)(d.a.Link,{as:l.b,to:"/register",children:"Register"}),c?Object(h.jsxs)(b.a,{title:"Explore",id:"basic-nav-dropdown",children:[Object(h.jsx)(b.a.Item,{onClick:n,children:"Profile"}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/savedrecipes",children:"Saved Recipes"}),Object(h.jsx)(b.a.Divider,{}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/foodlist",children:"Check Ingredients "}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/recommendrecipes",children:"Check Recipes "})]}):Object(h.jsxs)(b.a,{title:"Explore",id:"basic-nav-dropdown",children:[Object(h.jsx)(b.a.Item,{as:l.b,to:"/signin",children:"Sign in"}),Object(h.jsx)(b.a.Divider,{}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/foodlist",children:"Check Ingredients "}),Object(h.jsx)(b.a.Item,{as:l.b,to:"/recommendrecipes",children:"Check Recipes "})]})]})})]})},u=t(26),O=t.p+"static/media/ingredient-slide.e8c25a7c.jpg",x=t.p+"static/media/recipe-slide.ce5e1d7b.jpg",p=(t(70),function(){return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(u.a.Item,{className:"bg-pink slide",children:Object(h.jsxs)(l.b,{to:"/recommendrecipes",children:[Object(h.jsx)("img",{className:"d-block w-60 center ",src:x,alt:"Check Recipes"}),Object(h.jsxs)(u.a.Caption,{className:"br3 w-60 center caption",style:{backgroundColor:"lightblue"},children:[Object(h.jsx)("h3",{children:"Check Recipes"}),Object(h.jsx)("p",{children:"Find recipes that makes you happy"})]})]})}),Object(h.jsx)(u.a.Item,{className:"bg-pink slide",children:Object(h.jsxs)(l.b,{to:"/foodlist",children:[Object(h.jsx)("img",{className:"d-block w-60 center",src:O,alt:"Check Ingredients"}),Object(h.jsxs)(u.a.Caption,{className:"br3 w-60 center caption",style:{backgroundColor:"lightblue"},children:[Object(h.jsx)("h3",{children:"Check Ingredient"}),Object(h.jsx)("p",{children:"Simply paste the image URL to find out the ingredients"})]})]})})]})}),g=t(48),f=t(49),v=t(51),N=t(50),k=(t(71),document.getElementById("modal-root")),C=function(e){Object(v.a)(t,e);var c=Object(N.a)(t);function t(e){var n;return Object(g.a)(this,t),(n=c.call(this,e)).el=document.createElement("div"),n}return Object(f.a)(t,[{key:"componentDidMount",value:function(){k.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){k.removeChild(this.el)}},{key:"render",value:function(){return a.a.createPortal(this.props.children,this.el)}}]),t}(n.Component),w=t(42),y=t(27);t(72);var I=function(e){var c=e.toggleModal,t=e.user,s=e.loadUser,i=Object(n.useState)(t.username),a=Object(r.a)(i,2),l=a[0],o=a[1],j=Object(n.useState)(t.dob),d=Object(r.a)(j,2),b=d[0],m=d[1],u=function(e){switch(e.target.name){case"username":o(e.target.value);break;case"date":m(e.target.value);break;default:return}};return Object(h.jsx)("div",{className:"modal",children:Object(h.jsx)("div",{className:"col-md-8",children:Object(h.jsx)("div",{className:"card mb-3",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-11"}),Object(h.jsx)("div",{className:"col-sm-1 mb-3",children:Object(h.jsx)(y.a,{onClick:c,variant:"info",size:"sm",children:"x"})})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3 align-self-center",children:Object(h.jsx)("h6",{className:"mb-0",children:"Username"})}),Object(h.jsx)("div",{className:"col-sm-7",children:Object(h.jsx)("input",{onChange:u,name:"username",placeholder:t.username})})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3 align-self-center",children:Object(h.jsx)("h6",{className:"mb-0",children:"Email"})}),Object(h.jsx)("div",{className:"col-sm-9 ",children:Object(h.jsxs)("h6",{children:[" ",t.email," "]})})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3 align-self-center",children:Object(h.jsx)("h6",{className:"mb-0",children:"Date of Birth"})}),void 0===b||null===b?Object(h.jsx)("div",{className:"col-sm-9  align-self-center",children:Object(h.jsx)("input",{type:"date",name:"date",onChange:u})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"col-sm-7 align-self-center",children:Object(h.jsx)("h6",{children:new Date(b).toLocaleDateString()})}),Object(h.jsx)("div",{className:"col-sm-2",children:Object(h.jsx)(y.a,{variant:"info",onClick:function(){m(null)},children:"Edit"})})]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3",children:Object(h.jsx)("h6",{className:"mb-0",children:"Saved Recipes"})}),Object(h.jsx)("div",{className:"col-sm-9 ",children:t.recipes_number})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-sm-3",children:Object(h.jsx)("h6",{className:"mb-0",children:"Register on"})}),Object(h.jsx)("div",{className:"col-sm-9 ",children:new Date(t.create_on).toLocaleDateString()})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-sm-12",children:[Object(h.jsx)("button",{className:"btn btn-info ma2",onClick:function(){return e={username:l,dob:b},void fetch("https://warm-reef-43761.herokuapp.com/profile/".concat(t.user_id),{method:"post",headers:{"Content-Type":"application/json",authorization:window.localStorage.getItem("token")},body:JSON.stringify({formUpdate:e})}).then((function(e){return e.json()})).then((function(e){s(Object(w.a)(Object(w.a)({},t),e)),c()})).catch((function(e){return console.log(e)}));var e},children:"Save"}),Object(h.jsx)("button",{className:"btn btn-info ma2 ",onClick:c,children:"Close"})]})})]})})})})},S=s.a.lazy((function(){return t.e(3).then(t.bind(null,96))})),L=s.a.lazy((function(){return t.e(4).then(t.bind(null,97))})),_=s.a.lazy((function(){return t.e(5).then(t.bind(null,92))})),U=s.a.lazy((function(){return t.e(6).then(t.bind(null,93))})),z=s.a.lazy((function(){return t.e(7).then(t.bind(null,94))})),D={isLogin:!1,user:{email:"",username:"",create_on:"",user_id:"",dob:"",recipes_number:""}};var R=function(){var e=Object(n.useState)(D),c=Object(r.a)(e,2),t=c[0],s=c[1],i=Object(n.useState)(!1),a=Object(r.a)(i,2),j=a[0],d=a[1];Object(n.useEffect)((function(){var e=window.localStorage.getItem("token");if(e)return fetch("https://warm-reef-43761.herokuapp.com/signin",{method:"post",headers:{"content-type":"Application/json",authorization:e}}).then((function(e){return e.json()})).then((function(c){if(c.id)return fetch("https://warm-reef-43761.herokuapp.com/profile/".concat(c.id),{method:"get",headers:{"Content-Type":"application/json",authorization:e}}).then((function(e){return e.json()})).then((function(e){b(e)})).catch((function(e){return console.log("unable to refresh")}))})).catch(console.log)}),[]);var b=function(e){s({isLogin:!0,user:{email:e.email,username:e.username,create_on:e.create_on,user_id:e.user_id,dob:e.dob,recipes_number:e.recipes_number}})},u=function(){d(!j)};return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(l.a,{basename:"/Foodies",children:[Object(h.jsx)(m,{isLogin:t.isLogin,signout:function(e){s(D),window.localStorage.removeItem("token")},toggleModal:u}),console.log(j),j&&Object(h.jsx)(C,{children:Object(h.jsx)(I,{toggleModal:u,user:t.user,loadUser:b})}),Object(h.jsx)(n.Suspense,{fallback:Object(h.jsx)("span",{children:"Loading"}),children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/",exact:!0,component:p}),Object(h.jsx)(o.a,{path:"/register",children:Object(h.jsx)(_,{loadUser:b})}),Object(h.jsx)(o.a,{path:"/signin",children:Object(h.jsx)(U,{loadUser:b})}),Object(h.jsx)(o.a,{path:"/foodlist",children:Object(h.jsx)(S,{isLogin:t.isLogin})}),Object(h.jsx)(o.a,{path:"/recommendrecipes",children:Object(h.jsx)(L,{user:t.user,loadUser:b,isLogin:t.isLogin})}),Object(h.jsx)(o.a,{path:"/savedrecipes",children:Object(h.jsx)(z,{user:t.user,loadUser:b})})]})})]})})},E=function(e){e&&e instanceof Function&&t.e(8).then(t.bind(null,95)).then((function(c){var t=c.getCLS,n=c.getFID,s=c.getFCP,i=c.getLCP,a=c.getTTFB;t(e),n(e),s(e),i(e),a(e)}))};a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root")),E()}},[[73,1,2]]]);
//# sourceMappingURL=main.68c25a39.chunk.js.map