{"version":3,"sources":["img/pink-mug.png","img/laurel-wreath.png","components/Signin/Signin.js"],"names":["Signin","loadUser","isLogin","useState","email","setEmail","password","setPassword","history","useHistory","className","alt","src","laurelWreath","style","border","pinkMug","alignContent","onChange","event","target","value","type","name","placeholder","href","onClick","length","fetch","method","headers","body","JSON","stringify","then","resp","json","user","token","userId","success","window","localStorage","setItem","push","catch","err","console","log"],"mappings":"mHAAe,QAA0B,sC,gCCA1B,QAA0B,2C,qHCgH1BA,UAxGA,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,SACf,GADsC,EAAbC,QACCC,mBAAS,KAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACIC,EAAUC,cAuCd,OACE,qBAAKC,UAAU,4DAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,sBAAKA,UAAU,aAAf,UACI,qBAAKA,UAAU,WAAf,SACE,sBAAKA,UAAU,aAAf,UACI,qBAAKA,UAAU,MAAf,SACE,qBAAKC,IAAI,OAAOC,IAAKC,IAAcH,UAAU,OAAOI,MAAO,CAAEC,OAAQ,YAEvE,qBAAKL,UAAU,wDAAf,SACE,qBAAKC,IAAI,SAASC,IAAKI,IAASN,UAAU,QAAQI,MAAO,CAAEC,OAAQ,iBAI3E,qBAAKL,UAAU,WAAf,SACI,sBAAKA,UAAU,iCAAiCI,MAAO,CAACG,aAAc,UAAtE,UACI,qBAAKP,UAAU,gBAAf,SACI,oBAAIA,UAAU,iBAAd,uBAEJ,sBAAKA,UAAU,gBAAf,UACI,qBAAKA,UAAU,SACf,qBAAKA,UAAU,YAEnB,sBAAKA,UAAU,WAAf,UACE,uBAAOA,UAAU,OAAjB,SACE,oBAAIA,UAAU,kBAAd,6BAEF,uBACEQ,SAAU,SAACC,GAAD,OAAUd,EAASc,EAAMC,OAAOC,QAC1CX,UAAU,OAAOY,KAAK,OAAOC,KAAK,QAAQC,YAAY,mCAE1D,sBAAKd,UAAU,WAAf,UACE,uBAAOA,UAAU,OAAjB,SACE,oBAAIA,UAAU,kBAAd,wBAEF,uBACEQ,SAAU,SAACC,GAAD,OAAWZ,EAAYY,EAAMC,OAAOC,QAC9CC,KAAK,WAAWC,KAAK,WAAWC,YAAY,sBAEhD,qBAAKd,UAAU,gBAAf,SACI,mBAAGe,KAAK,KAAKf,UAAU,2DAAvB,gCAEJ,qBAAKA,UAAU,gBAAf,SACE,wBACEgB,QA7EC,WACjBtB,EAAMuB,OAAS,GAAKrB,EAASqB,OAAS,GACxCC,MAAM,+CAAgD,CACpDC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnB7B,MAAOA,EACPE,SAAUA,MAGb4B,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GAfY,IAACC,EAgBbD,EAAKE,QAA2B,SAAjBF,EAAKG,UAhBPF,EAiBDD,EAAKC,MAhBzBG,OAAOC,aAAaC,QAAQ,QAASL,GAiB/BV,MAAM,iDAAD,OAAkDS,EAAKE,QAAU,CACpEV,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAiBO,EAAKC,SAGzBJ,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAG,GACJpC,EAASoC,GACT7B,EAAQoC,KAAK,QAEdC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAI,+BAG7BH,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAiDRxB,KAAK,SAASZ,UAAU,2BAF1B,qBAIF,qBAAKA,UAAU,gBAAf,SACE,wBAAOA,UAAU,iDAAjB,mCACE,mBAAGe,KAAK,YAAYf,UAAU,eAA9B","file":"static/js/6.c6739676.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/pink-mug.148409de.png\";","export default __webpack_public_path__ + \"static/media/laurel-wreath.72b63e55.png\";","import { useState } from 'react';\r\n\r\nimport './Signin.css';\r\nimport pinkMug from '../../img/pink-mug.png';\r\nimport laurelWreath from '../../img/laurel-wreath.png';\r\nimport { useHistory  } from \"react-router-dom\";\r\n\r\n\r\nconst Signin = ({loadUser, isLogin}) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  let history = useHistory()\r\n  \r\n  const saveAuthToken = (token) => {\r\n    window.localStorage.setItem(\"token\", token)\r\n  }\r\n\r\n  const onSigninSubmit = () => {\r\n    if (email.length > 0 && password.length > 0 ) {\r\n      fetch('https://warm-reef-43761.herokuapp.com/signin', {\r\n        method: 'post',\r\n        headers: { 'content-type': 'Application/json' },\r\n        body: JSON.stringify({\r\n          email: email,\r\n          password: password\r\n        }) \r\n      })\r\n      .then(resp => resp.json())\r\n      .then(user => {\r\n        if (user.userId && user.success === 'true') {\r\n          saveAuthToken(user.token)         \r\n          fetch(`https://warm-reef-43761.herokuapp.com/profile/${user.userId}`, {\r\n            method: 'get',\r\n            headers: { \r\n              'Content-Type': 'application/json',\r\n              'authorization': user.token\r\n            }\r\n          })\r\n          .then(resp => resp.json())\r\n          .then(user => {            \r\n            loadUser(user)\r\n            history.push('/')\r\n          })\r\n          .catch(err => console.log('unable to save token'))\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n    }\r\n  }\r\n\r\n  return(   \r\n    <div className=\"container-fluid px-1 px-md-5 px-lg-1 px-xl-5 py-5 mx-auto\">\r\n      <div className=\"card card0 border-0\" >\r\n        <div className=\"row d-flex\">\r\n            <div className=\"col-lg-6\">\r\n              <div className=\"card1 pb-5\">\r\n                  <div className=\"row\"> \r\n                    <img alt='logo' src={laurelWreath} className=\"logo\" style={{ border: 'none'}} /> \r\n                  </div>\r\n                  <div className=\"row px-3 justify-content-center mt-4 mb-5 border-line\" > \r\n                    <img alt='signin' src={pinkMug} className=\"image\" style={{ border: 'none'}}/> \r\n                  </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-6\">\r\n                <div className=\"card2 card border-0 px-4 py-5 \" style={{alignContent: 'center'}}>\r\n                    <div className=\"row mb-4 px-3\">\r\n                        <h6 className=\"mb-0 mr-4 mt-2\">Sign In</h6>                      \r\n                    </div>\r\n                    <div className=\"row px-3 mb-4\">\r\n                        <div className=\"line\"></div> \r\n                        <div className=\"line\"></div>\r\n                    </div>\r\n                    <div className=\"row px-3\"> \r\n                      <label className=\"mb-1\">\r\n                        <h6 className=\"mb-0 text-sm tl\">Email Address</h6>\r\n                      </label> \r\n                      <input \r\n                        onChange={(event)=> setEmail(event.target.value)} \r\n                        className=\"mb-4\" type=\"text\" name=\"email\" placeholder=\"Enter a valid email address\"/>                       \r\n                    </div>\r\n                    <div className=\"row px-3\"> \r\n                      <label className=\"mb-1\">\r\n                        <h6 className=\"mb-0 text-sm tl\">Password</h6>\r\n                      </label> \r\n                      <input\r\n                        onChange={(event) => setPassword(event.target.value)} \r\n                        type=\"password\" name=\"password\" placeholder=\"Enter password\" /> \r\n                    </div>\r\n                    <div className=\"row px-3 mb-4\">\r\n                        <a href=\"#0\" className=\"col-sm ml-auto mb-0 text-sm d-flex justify-content-start\">Forgot Password?</a>\r\n                    </div>\r\n                    <div className=\"row mb-3 px-3\"> \r\n                      <button \r\n                        onClick={ onSigninSubmit }\r\n                        type=\"submit\" className=\"btn btn-blue text-center\">Login</button> \r\n                    </div>\r\n                    <div className=\"row mb-4 px-3\"> \r\n                      <small className=\"font-weight-bold d-flex justify-content-start \">Don't have an account? \r\n                        <a href='/register' className=\"text-danger \">Register</a>\r\n                      </small> \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n       \r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\nexport default Signin;"],"sourceRoot":""}